<div class="banner">
    <div class="home-image">
        
        <div id="main-banner-image">
            <a class="banner-image" href="">
                <img alt="" class="left-banner-image" src="{{ site.baseurl }}/assets/images/papers/"/>
                <span id="left-banner-image-title" class="banner-image-title"></span>
            </a>
        </div>

        <div id="top-right-banner-image">
            <a class="banner-image" href="">
                <span id="top-right-banner-image-title" class="banner-image-title"></span>
                <img alt="" class="top-right-banner-image" src="{{ site.baseurl }}/assets/images/papers/">
            </a>
        </div>

        <div id="bottom-right-banner-image">
            <a class="banner-image" href="">
                <img alt="" class="bottom-right-banner-image" src="{{ site.baseurl }}/assets/images/papers/">
                <span id="bottom-right-banner-image-title" class="banner-image-title"></span>
            </a>
        </div>

        <script src="http://code.jquery.com/jquery-latest.min.js"
                type="text/javascript"></script>
        <script>
            publications.sort(function () {
                return .5 - Math.random();
            });

            var i = 0;
            ["#main-banner-image", "#top-right-banner-image", "#bottom-right-banner-image"].forEach(function (id) {

                var pub = publications[i];
                i++;
                var bannerImg = $(id + " img");
                bannerImg.attr("alt", pub.shortname)

                var src = bannerImg.attr("src");
                bannerImg.attr("src", src + pub.image_large);

                var bannerLink = $(id + "  a")
                bannerLink.attr("href", pub.url);
                
                // shorten title of too long
                var titleLength = -1;
                if(i == 1){
                    titleLength = 66;
                }else{
                    titleLength = 30;
                }
                if(pub.title.length > titleLength){
                    pub.title = pub.title.substring(0, titleLength) + "...";
                }
                
                var bannerText = $(id + " span")
                bannerText.text(pub.title);
            });

        </script>
    </div>
</div>
